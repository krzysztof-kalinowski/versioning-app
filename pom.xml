<?xml version="1.0" encoding="UTF-8"?>

<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>

  <groupId>kkalinowski.versioning.demo</groupId>
  <artifactId>versioning-app</artifactId>
  <version>0.2.4-SNAPSHOT</version>

  <name>versioning-app</name>

  <properties>
	  <maven.compiler.target>1.8</maven.compiler.target>
	  <maven.compiler.source>1.8</maven.compiler.source>
	  <encoding>UTF-8</encoding>
	  <project.build.sourceEncoding>${encoding}</project.build.sourceEncoding>
	  <project.reporting.outputEncoding>${encoding}</project.reporting.outputEncoding>
	  <project.resources.sourceEncoding>${encoding}</project.resources.sourceEncoding>
	  <archetype.encoding>${encoding}</archetype.encoding>
  </properties>
  
  <!-- scm byÅ‚ potrzebny do maven release plugina -->
  <!-- <scm>
      <connection>scm:git:git@github.com:krzysztof-kalinowski/versioning-app.git</connection>
      <developerConnection>scm:git:git@github.com:krzysztof-kalinowski/versioning-app.git</developerConnection>
      <url>https://github.com/krzysztof-kalinowski/versioning-app</url>
      <tag>@{project.version}</tag>
  </scm> -->


  <build>
        <plugins>
        <plugin>
		   <groupId>com.amashchenko.maven.plugin</groupId>
		   <artifactId>gitflow-maven-plugin</artifactId>
		   <version>1.14.0</version>
		   
		   <configuration>
		      <installProject>false</installProject>
		      <verbose>false</verbose>
		      <keepBranch>true</keepBranch>
		      <skipTestProject>true</skipTestProject>
		      <pushRemote>true</pushRemote> <!-- default is false -->
			  <skipFeatureVersion>true</skipFeatureVersion> <!-- doesnt add feature name to version -->
			
		      <gitFlowConfig>
		         <productionBranch>master</productionBranch>
		         <developmentBranch>develop</developmentBranch>
		         <featureBranchPrefix>feature/</featureBranchPrefix>
		         <releaseBranchPrefix>release/</releaseBranchPrefix>
		         <hotfixBranchPrefix>hotfix/</hotfixBranchPrefix>
		         <versionTagPrefix></versionTagPrefix>
		         <origin>origin</origin>
		      </gitFlowConfig>
		      <commitMessages>
		         <!-- since 1.2.1, see Customizing commit messages -->
		      </commitMessages>
		   </configuration>
		</plugin>
        
        	
        
        	<!-- <plugin>
	            <groupId>external.atlassian.jgitflow</groupId>
	            <artifactId>jgitflow-maven-plugin</artifactId>
	            <version>1.0-m5.1</version>
	            <configuration>
	            	<enableSshAgent>true</enableSshAgent>
				    <autoVersionSubmodules>true</autoVersionSubmodules>
				    <pushFeatures>true</pushFeatures>
				    <pushReleases>true</pushReleases>
				    <pushHotfixes>true</pushHotfixes>
				    <noDeploy>true</noDeploy>
	                <flowInitContext>
				         <masterBranchName>master</masterBranchName>
				         <developBranchName>develop</developBranchName>
				         <featureBranchPrefix>feature-</featureBranchPrefix>
				         <releaseBranchPrefix>release-</releaseBranchPrefix>
				         <hotfixBranchPrefix>hotfix-</hotfixBranchPrefix>
				         <versionTagPrefix>kk-</versionTagPrefix>
				    </flowInitContext>
	            </configuration>
	        </plugin> -->
        
            <!-- <plugin>
                <artifactId>maven-assembly-plugin</artifactId>
                <version>3.2.0</version>
                <configuration>
                    <archive>
                        <manifest>
                            <addDefaultImplementationEntries>true</addDefaultImplementationEntries>
                            <addDefaultSpecificationEntries>true</addDefaultSpecificationEntries>
                            <mainClass>kkalinowski.versioning.demo.App</mainClass>
                        </manifest>
                    </archive>
                    <descriptorRefs>
                        <descriptorRef>jar-with-dependencies</descriptorRef>
                    </descriptorRefs>
                </configuration>
                <executions>
                    <execution>
                        <phase>package</phase>
                        <goals>
                            <goal>single</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin> -->
            
	        
            <!-- <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-release-plugin</artifactId>
                <version>3.0.0-M1</version>
                <configuration>
                    <goals>pre-integration-test</goals>
                    <preparationGoals>package</preparationGoals>
                    <allowTimestampedSnapshots>true</allowTimestampedSnapshots>
                    <tagNameFormat>@{project.version}</tagNameFormat>
                    <remoteTagging>false</remoteTagging> default:true Do you want to create remote tag before building and pushing?
                </configuration>
            </plugin> -->
            
        </plugins>
    </build>
</project>
